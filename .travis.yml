language: java
jdk:
  - openjdk8

####################################################################################################
#                                         Setup Databases                                          #
#                          https://docs.travis-ci.com/user/database-setup                          #
####################################################################################################
services:
  - mysql

mysql:
  database: test1
  username: root
  encoding: utf8

#before_script:
 # - mysql -e 'CREATE DATABASE IF NOT EXISTS test;'

before_install:
  - chmod a+x gradlew
  - mysql -u root --password="" < ./create_tables.sql

branches:
  only:
    - main

# Travis CI 서버의 Home
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.gradle'

script: "./gradlew clean build"


# CI 실행 완료시 메일로 알람
notifications:
  email:
    recipients:
      - jghgahee12@gmail.com